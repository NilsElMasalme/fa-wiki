{# Single editable button component #}
{# Parameters: button, editor_mode #}

<a href="{{ button.link_url }}"
   class="nav-button editable-content"
   {% if button.link_type == 'external' %}target="_blank" rel="noopener"{% endif %}
   data-button-id="{{ button.id }}"
   id="button-{{ button.id }}">

    {% if editor_mode %}
    <div class="edit-overlay">
        <button class="edit-overlay-btn edit-btn"
                data-action="edit"
                data-button-id="{{ button.id }}"
                hx-get="{{ url_for('api.button_form', button_id=button.id) }}"
                hx-target="#editModal"
                hx-swap="innerHTML"
                onclick="event.preventDefault(); event.stopPropagation();"
                title="Edit">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
        </button>
        <button class="edit-overlay-btn delete"
                data-action="delete"
                data-button-id="{{ button.id }}"
                hx-delete="{{ url_for('api.delete_button', button_id=button.id) }}"
                hx-confirm="Are you sure you want to delete this button?"
                hx-target="#button-{{ button.id }}"
                hx-swap="outerHTML"
                onclick="event.preventDefault(); event.stopPropagation();"
                title="Delete">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
            </svg>
        </button>
    </div>
    {% endif %}

    <div class="nav-button-icon">
        {% if button.icon_url %}
        <img src="{{ button.icon_url }}" alt="">
        {% else %}
        <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
        </svg>
        {% endif %}
    </div>
    <span class="nav-button-label">{{ button.label }}</span>
    {% if button.description %}
    <span class="nav-button-description">{{ button.description }}</span>
    {% endif %}
</a>
